'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTetherAttachments = getTetherAttachments;
exports.getScrollbarWidth = getScrollbarWidth;
exports.setScrollbarWidth = setScrollbarWidth;
exports.isBodyOverflowing = isBodyOverflowing;
exports.getOriginalBodyPadding = getOriginalBodyPadding;
exports.conditionallyUpdateScrollbar = conditionallyUpdateScrollbar;
exports.mapToCssModules = mapToCssModules;
function getTetherAttachments(placement) {
  var attachments = {};
  switch (placement) {
    case 'top':
    case 'top center':
      attachments = {
        attachment: 'bottom center',
        targetAttachment: 'top center'
      };
      break;
    case 'bottom':
    case 'bottom center':
      attachments = {
        attachment: 'top center',
        targetAttachment: 'bottom center'
      };
      break;
    case 'left':
    case 'left center':
      attachments = {
        attachment: 'middle right',
        targetAttachment: 'middle left'
      };
      break;
    case 'right':
    case 'right center':
      attachments = {
        attachment: 'middle left',
        targetAttachment: 'middle right'
      };
      break;
    case 'top left':
      attachments = {
        attachment: 'bottom left',
        targetAttachment: 'top left'
      };
      break;
    case 'top right':
      attachments = {
        attachment: 'bottom right',
        targetAttachment: 'top right'
      };
      break;
    case 'bottom left':
      attachments = {
        attachment: 'top left',
        targetAttachment: 'bottom left'
      };
      break;
    case 'bottom right':
      attachments = {
        attachment: 'top right',
        targetAttachment: 'bottom right'
      };
      break;
    case 'right top':
      attachments = {
        attachment: 'top left',
        targetAttachment: 'top right'
      };
      break;
    case 'right bottom':
      attachments = {
        attachment: 'bottom left',
        targetAttachment: 'bottom right'
      };
      break;
    case 'left top':
      attachments = {
        attachment: 'top right',
        targetAttachment: 'top left'
      };
      break;
    case 'left bottom':
      attachments = {
        attachment: 'bottom right',
        targetAttachment: 'bottom left'
      };
      break;
    default:
      attachments = {
        attachment: 'top center',
        targetAttachment: 'bottom center'
      };
  }

  return attachments;
}

var tetherAttachements = exports.tetherAttachements = ['top', 'bottom', 'left', 'right', 'top left', 'top center', 'top right', 'right top', 'right middle', 'right bottom', 'bottom right', 'bottom center', 'bottom left', 'left top', 'left middle', 'left bottom'];

// https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.4/js/src/modal.js#L436-L443
function getScrollbarWidth() {
  var scrollDiv = document.createElement('div');
  // .modal-scrollbar-measure styles // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.4/scss/_modal.scss#L106-L113
  scrollDiv.style.position = 'absolute';
  scrollDiv.style.top = '-9999px';
  scrollDiv.style.width = '50px';
  scrollDiv.style.height = '50px';
  scrollDiv.style.overflow = 'scroll';
  document.body.appendChild(scrollDiv);
  var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;
  document.body.removeChild(scrollDiv);
  return scrollbarWidth;
}

function setScrollbarWidth(padding) {
  document.body.style.paddingRight = padding > 0 ? padding + 'px' : null;
}

function isBodyOverflowing() {
  return document.body.clientWidth < window.innerWidth;
}

function getOriginalBodyPadding() {
  return parseInt(window.getComputedStyle(document.body, null).getPropertyValue('padding-right') || 0, 10);
}

function conditionallyUpdateScrollbar() {
  var scrollbarWidth = getScrollbarWidth();
  // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.4/js/src/modal.js#L420
  var fixedContent = document.querySelectorAll('.navbar-fixed-top, .navbar-fixed-bottom, .is-fixed')[0];
  var bodyPadding = fixedContent ? parseInt(fixedContent.style.paddingRight || 0, 10) : 0;

  if (isBodyOverflowing()) {
    setScrollbarWidth(bodyPadding + scrollbarWidth);
  }
}

function mapToCssModules(className, cssModule) {
  if (!cssModule) return className;
  return className.split(' ').map(function (c) {
    return cssModule[c] || c;
  }).join(' ');
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy91dGlscy5qcyJdLCJuYW1lcyI6WyJnZXRUZXRoZXJBdHRhY2htZW50cyIsImdldFNjcm9sbGJhcldpZHRoIiwic2V0U2Nyb2xsYmFyV2lkdGgiLCJpc0JvZHlPdmVyZmxvd2luZyIsImdldE9yaWdpbmFsQm9keVBhZGRpbmciLCJjb25kaXRpb25hbGx5VXBkYXRlU2Nyb2xsYmFyIiwibWFwVG9Dc3NNb2R1bGVzIiwicGxhY2VtZW50IiwiYXR0YWNobWVudHMiLCJhdHRhY2htZW50IiwidGFyZ2V0QXR0YWNobWVudCIsInRldGhlckF0dGFjaGVtZW50cyIsInNjcm9sbERpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwicG9zaXRpb24iLCJ0b3AiLCJ3aWR0aCIsImhlaWdodCIsIm92ZXJmbG93IiwiYm9keSIsImFwcGVuZENoaWxkIiwic2Nyb2xsYmFyV2lkdGgiLCJvZmZzZXRXaWR0aCIsImNsaWVudFdpZHRoIiwicmVtb3ZlQ2hpbGQiLCJwYWRkaW5nIiwicGFkZGluZ1JpZ2h0Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsInBhcnNlSW50IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJmaXhlZENvbnRlbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYm9keVBhZGRpbmciLCJjbGFzc05hbWUiLCJjc3NNb2R1bGUiLCJzcGxpdCIsIm1hcCIsImMiLCJqb2luIl0sIm1hcHBpbmdzIjoiOzs7OztRQUFnQkEsb0IsR0FBQUEsb0I7UUE2R0FDLGlCLEdBQUFBLGlCO1FBY0FDLGlCLEdBQUFBLGlCO1FBSUFDLGlCLEdBQUFBLGlCO1FBSUFDLHNCLEdBQUFBLHNCO1FBT0FDLDRCLEdBQUFBLDRCO1FBY0FDLGUsR0FBQUEsZTtBQXhKVCxTQUFTTixvQkFBVCxDQUE4Qk8sU0FBOUIsRUFBeUM7QUFDOUMsTUFBSUMsY0FBYyxFQUFsQjtBQUNBLFVBQVFELFNBQVI7QUFDRSxTQUFLLEtBQUw7QUFDQSxTQUFLLFlBQUw7QUFDRUMsb0JBQWM7QUFDWkMsb0JBQVksZUFEQTtBQUVaQywwQkFBa0I7QUFGTixPQUFkO0FBSUE7QUFDRixTQUFLLFFBQUw7QUFDQSxTQUFLLGVBQUw7QUFDRUYsb0JBQWM7QUFDWkMsb0JBQVksWUFEQTtBQUVaQywwQkFBa0I7QUFGTixPQUFkO0FBSUE7QUFDRixTQUFLLE1BQUw7QUFDQSxTQUFLLGFBQUw7QUFDRUYsb0JBQWM7QUFDWkMsb0JBQVksY0FEQTtBQUVaQywwQkFBa0I7QUFGTixPQUFkO0FBSUE7QUFDRixTQUFLLE9BQUw7QUFDQSxTQUFLLGNBQUw7QUFDRUYsb0JBQWM7QUFDWkMsb0JBQVksYUFEQTtBQUVaQywwQkFBa0I7QUFGTixPQUFkO0FBSUE7QUFDRixTQUFLLFVBQUw7QUFDRUYsb0JBQWM7QUFDWkMsb0JBQVksYUFEQTtBQUVaQywwQkFBa0I7QUFGTixPQUFkO0FBSUE7QUFDRixTQUFLLFdBQUw7QUFDRUYsb0JBQWM7QUFDWkMsb0JBQVksY0FEQTtBQUVaQywwQkFBa0I7QUFGTixPQUFkO0FBSUE7QUFDRixTQUFLLGFBQUw7QUFDRUYsb0JBQWM7QUFDWkMsb0JBQVksVUFEQTtBQUVaQywwQkFBa0I7QUFGTixPQUFkO0FBSUE7QUFDRixTQUFLLGNBQUw7QUFDRUYsb0JBQWM7QUFDWkMsb0JBQVksV0FEQTtBQUVaQywwQkFBa0I7QUFGTixPQUFkO0FBSUE7QUFDRixTQUFLLFdBQUw7QUFDRUYsb0JBQWM7QUFDWkMsb0JBQVksVUFEQTtBQUVaQywwQkFBa0I7QUFGTixPQUFkO0FBSUE7QUFDRixTQUFLLGNBQUw7QUFDRUYsb0JBQWM7QUFDWkMsb0JBQVksYUFEQTtBQUVaQywwQkFBa0I7QUFGTixPQUFkO0FBSUE7QUFDRixTQUFLLFVBQUw7QUFDRUYsb0JBQWM7QUFDWkMsb0JBQVksV0FEQTtBQUVaQywwQkFBa0I7QUFGTixPQUFkO0FBSUE7QUFDRixTQUFLLGFBQUw7QUFDRUYsb0JBQWM7QUFDWkMsb0JBQVksY0FEQTtBQUVaQywwQkFBa0I7QUFGTixPQUFkO0FBSUE7QUFDRjtBQUNFRixvQkFBYztBQUNaQyxvQkFBWSxZQURBO0FBRVpDLDBCQUFrQjtBQUZOLE9BQWQ7QUE5RUo7O0FBb0ZBLFNBQU9GLFdBQVA7QUFDRDs7QUFFTSxJQUFNRyxrREFBcUIsQ0FDaEMsS0FEZ0MsRUFFaEMsUUFGZ0MsRUFHaEMsTUFIZ0MsRUFJaEMsT0FKZ0MsRUFLaEMsVUFMZ0MsRUFNaEMsWUFOZ0MsRUFPaEMsV0FQZ0MsRUFRaEMsV0FSZ0MsRUFTaEMsY0FUZ0MsRUFVaEMsY0FWZ0MsRUFXaEMsY0FYZ0MsRUFZaEMsZUFaZ0MsRUFhaEMsYUFiZ0MsRUFjaEMsVUFkZ0MsRUFlaEMsYUFmZ0MsRUFnQmhDLGFBaEJnQyxDQUEzQjs7QUFtQlA7QUFDTyxTQUFTVixpQkFBVCxHQUE2QjtBQUNsQyxNQUFJVyxZQUFZQyxTQUFTQyxhQUFULENBQXVCLEtBQXZCLENBQWhCO0FBQ0E7QUFDQUYsWUFBVUcsS0FBVixDQUFnQkMsUUFBaEIsR0FBMkIsVUFBM0I7QUFDQUosWUFBVUcsS0FBVixDQUFnQkUsR0FBaEIsR0FBc0IsU0FBdEI7QUFDQUwsWUFBVUcsS0FBVixDQUFnQkcsS0FBaEIsR0FBd0IsTUFBeEI7QUFDQU4sWUFBVUcsS0FBVixDQUFnQkksTUFBaEIsR0FBeUIsTUFBekI7QUFDQVAsWUFBVUcsS0FBVixDQUFnQkssUUFBaEIsR0FBMkIsUUFBM0I7QUFDQVAsV0FBU1EsSUFBVCxDQUFjQyxXQUFkLENBQTBCVixTQUExQjtBQUNBLE1BQU1XLGlCQUFpQlgsVUFBVVksV0FBVixHQUF3QlosVUFBVWEsV0FBekQ7QUFDQVosV0FBU1EsSUFBVCxDQUFjSyxXQUFkLENBQTBCZCxTQUExQjtBQUNBLFNBQU9XLGNBQVA7QUFDRDs7QUFFTSxTQUFTckIsaUJBQVQsQ0FBMkJ5QixPQUEzQixFQUFvQztBQUN6Q2QsV0FBU1EsSUFBVCxDQUFjTixLQUFkLENBQW9CYSxZQUFwQixHQUFtQ0QsVUFBVSxDQUFWLEdBQWlCQSxPQUFqQixVQUErQixJQUFsRTtBQUNEOztBQUVNLFNBQVN4QixpQkFBVCxHQUE2QjtBQUNsQyxTQUFPVSxTQUFTUSxJQUFULENBQWNJLFdBQWQsR0FBNEJJLE9BQU9DLFVBQTFDO0FBQ0Q7O0FBRU0sU0FBUzFCLHNCQUFULEdBQWtDO0FBQ3ZDLFNBQU8yQixTQUNMRixPQUFPRyxnQkFBUCxDQUF3Qm5CLFNBQVNRLElBQWpDLEVBQXVDLElBQXZDLEVBQTZDWSxnQkFBN0MsQ0FBOEQsZUFBOUQsS0FBa0YsQ0FEN0UsRUFFTCxFQUZLLENBQVA7QUFJRDs7QUFFTSxTQUFTNUIsNEJBQVQsR0FBd0M7QUFDN0MsTUFBTWtCLGlCQUFpQnRCLG1CQUF2QjtBQUNBO0FBQ0EsTUFBTWlDLGVBQWVyQixTQUFTc0IsZ0JBQVQsQ0FBMEIsb0RBQTFCLEVBQWdGLENBQWhGLENBQXJCO0FBQ0EsTUFBTUMsY0FBY0YsZUFBZUgsU0FDakNHLGFBQWFuQixLQUFiLENBQW1CYSxZQUFuQixJQUFtQyxDQURGLEVBRWpDLEVBRmlDLENBQWYsR0FHaEIsQ0FISjs7QUFLQSxNQUFJekIsbUJBQUosRUFBeUI7QUFDdkJELHNCQUFrQmtDLGNBQWNiLGNBQWhDO0FBQ0Q7QUFDRjs7QUFFTSxTQUFTakIsZUFBVCxDQUF5QitCLFNBQXpCLEVBQW9DQyxTQUFwQyxFQUErQztBQUNwRCxNQUFJLENBQUNBLFNBQUwsRUFBZ0IsT0FBT0QsU0FBUDtBQUNoQixTQUFPQSxVQUFVRSxLQUFWLENBQWdCLEdBQWhCLEVBQXFCQyxHQUFyQixDQUF5QjtBQUFBLFdBQUtGLFVBQVVHLENBQVYsS0FBZ0JBLENBQXJCO0FBQUEsR0FBekIsRUFBaURDLElBQWpELENBQXNELEdBQXRELENBQVA7QUFDRCIsImZpbGUiOiJ1dGlscy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBnZXRUZXRoZXJBdHRhY2htZW50cyhwbGFjZW1lbnQpIHtcbiAgbGV0IGF0dGFjaG1lbnRzID0ge307XG4gIHN3aXRjaCAocGxhY2VtZW50KSB7XG4gICAgY2FzZSAndG9wJzpcbiAgICBjYXNlICd0b3AgY2VudGVyJzpcbiAgICAgIGF0dGFjaG1lbnRzID0ge1xuICAgICAgICBhdHRhY2htZW50OiAnYm90dG9tIGNlbnRlcicsXG4gICAgICAgIHRhcmdldEF0dGFjaG1lbnQ6ICd0b3AgY2VudGVyJ1xuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgY2FzZSAnYm90dG9tIGNlbnRlcic6XG4gICAgICBhdHRhY2htZW50cyA9IHtcbiAgICAgICAgYXR0YWNobWVudDogJ3RvcCBjZW50ZXInLFxuICAgICAgICB0YXJnZXRBdHRhY2htZW50OiAnYm90dG9tIGNlbnRlcidcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdsZWZ0JzpcbiAgICBjYXNlICdsZWZ0IGNlbnRlcic6XG4gICAgICBhdHRhY2htZW50cyA9IHtcbiAgICAgICAgYXR0YWNobWVudDogJ21pZGRsZSByaWdodCcsXG4gICAgICAgIHRhcmdldEF0dGFjaG1lbnQ6ICdtaWRkbGUgbGVmdCdcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdyaWdodCc6XG4gICAgY2FzZSAncmlnaHQgY2VudGVyJzpcbiAgICAgIGF0dGFjaG1lbnRzID0ge1xuICAgICAgICBhdHRhY2htZW50OiAnbWlkZGxlIGxlZnQnLFxuICAgICAgICB0YXJnZXRBdHRhY2htZW50OiAnbWlkZGxlIHJpZ2h0J1xuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RvcCBsZWZ0JzpcbiAgICAgIGF0dGFjaG1lbnRzID0ge1xuICAgICAgICBhdHRhY2htZW50OiAnYm90dG9tIGxlZnQnLFxuICAgICAgICB0YXJnZXRBdHRhY2htZW50OiAndG9wIGxlZnQnXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndG9wIHJpZ2h0JzpcbiAgICAgIGF0dGFjaG1lbnRzID0ge1xuICAgICAgICBhdHRhY2htZW50OiAnYm90dG9tIHJpZ2h0JyxcbiAgICAgICAgdGFyZ2V0QXR0YWNobWVudDogJ3RvcCByaWdodCdcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdib3R0b20gbGVmdCc6XG4gICAgICBhdHRhY2htZW50cyA9IHtcbiAgICAgICAgYXR0YWNobWVudDogJ3RvcCBsZWZ0JyxcbiAgICAgICAgdGFyZ2V0QXR0YWNobWVudDogJ2JvdHRvbSBsZWZ0J1xuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2JvdHRvbSByaWdodCc6XG4gICAgICBhdHRhY2htZW50cyA9IHtcbiAgICAgICAgYXR0YWNobWVudDogJ3RvcCByaWdodCcsXG4gICAgICAgIHRhcmdldEF0dGFjaG1lbnQ6ICdib3R0b20gcmlnaHQnXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncmlnaHQgdG9wJzpcbiAgICAgIGF0dGFjaG1lbnRzID0ge1xuICAgICAgICBhdHRhY2htZW50OiAndG9wIGxlZnQnLFxuICAgICAgICB0YXJnZXRBdHRhY2htZW50OiAndG9wIHJpZ2h0J1xuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3JpZ2h0IGJvdHRvbSc6XG4gICAgICBhdHRhY2htZW50cyA9IHtcbiAgICAgICAgYXR0YWNobWVudDogJ2JvdHRvbSBsZWZ0JyxcbiAgICAgICAgdGFyZ2V0QXR0YWNobWVudDogJ2JvdHRvbSByaWdodCdcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdsZWZ0IHRvcCc6XG4gICAgICBhdHRhY2htZW50cyA9IHtcbiAgICAgICAgYXR0YWNobWVudDogJ3RvcCByaWdodCcsXG4gICAgICAgIHRhcmdldEF0dGFjaG1lbnQ6ICd0b3AgbGVmdCdcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdsZWZ0IGJvdHRvbSc6XG4gICAgICBhdHRhY2htZW50cyA9IHtcbiAgICAgICAgYXR0YWNobWVudDogJ2JvdHRvbSByaWdodCcsXG4gICAgICAgIHRhcmdldEF0dGFjaG1lbnQ6ICdib3R0b20gbGVmdCdcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYXR0YWNobWVudHMgPSB7XG4gICAgICAgIGF0dGFjaG1lbnQ6ICd0b3AgY2VudGVyJyxcbiAgICAgICAgdGFyZ2V0QXR0YWNobWVudDogJ2JvdHRvbSBjZW50ZXInXG4gICAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGF0dGFjaG1lbnRzO1xufVxuXG5leHBvcnQgY29uc3QgdGV0aGVyQXR0YWNoZW1lbnRzID0gW1xuICAndG9wJyxcbiAgJ2JvdHRvbScsXG4gICdsZWZ0JyxcbiAgJ3JpZ2h0JyxcbiAgJ3RvcCBsZWZ0JyxcbiAgJ3RvcCBjZW50ZXInLFxuICAndG9wIHJpZ2h0JyxcbiAgJ3JpZ2h0IHRvcCcsXG4gICdyaWdodCBtaWRkbGUnLFxuICAncmlnaHQgYm90dG9tJyxcbiAgJ2JvdHRvbSByaWdodCcsXG4gICdib3R0b20gY2VudGVyJyxcbiAgJ2JvdHRvbSBsZWZ0JyxcbiAgJ2xlZnQgdG9wJyxcbiAgJ2xlZnQgbWlkZGxlJyxcbiAgJ2xlZnQgYm90dG9tJ1xuXTtcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvdjQuMC4wLWFscGhhLjQvanMvc3JjL21vZGFsLmpzI0w0MzYtTDQ0M1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbGJhcldpZHRoKCkge1xuICBsZXQgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIC8vIC5tb2RhbC1zY3JvbGxiYXItbWVhc3VyZSBzdHlsZXMgLy8gaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvdjQuMC4wLWFscGhhLjQvc2Nzcy9fbW9kYWwuc2NzcyNMMTA2LUwxMTNcbiAgc2Nyb2xsRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgc2Nyb2xsRGl2LnN0eWxlLnRvcCA9ICctOTk5OXB4JztcbiAgc2Nyb2xsRGl2LnN0eWxlLndpZHRoID0gJzUwcHgnO1xuICBzY3JvbGxEaXYuc3R5bGUuaGVpZ2h0ID0gJzUwcHgnO1xuICBzY3JvbGxEaXYuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JvbGxEaXYpO1xuICBjb25zdCBzY3JvbGxiYXJXaWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpO1xuICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRTY3JvbGxiYXJXaWR0aChwYWRkaW5nKSB7XG4gIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0ID0gcGFkZGluZyA+IDAgPyBgJHtwYWRkaW5nfXB4YCA6IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0JvZHlPdmVyZmxvd2luZygpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggPCB3aW5kb3cuaW5uZXJXaWR0aDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE9yaWdpbmFsQm9keVBhZGRpbmcoKSB7XG4gIHJldHVybiBwYXJzZUludChcbiAgICB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5LCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKCdwYWRkaW5nLXJpZ2h0JykgfHwgMCxcbiAgICAxMFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uZGl0aW9uYWxseVVwZGF0ZVNjcm9sbGJhcigpIHtcbiAgY29uc3Qgc2Nyb2xsYmFyV2lkdGggPSBnZXRTY3JvbGxiYXJXaWR0aCgpO1xuICAvLyBodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi92NC4wLjAtYWxwaGEuNC9qcy9zcmMvbW9kYWwuanMjTDQyMFxuICBjb25zdCBmaXhlZENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2YmFyLWZpeGVkLXRvcCwgLm5hdmJhci1maXhlZC1ib3R0b20sIC5pcy1maXhlZCcpWzBdO1xuICBjb25zdCBib2R5UGFkZGluZyA9IGZpeGVkQ29udGVudCA/IHBhcnNlSW50KFxuICAgIGZpeGVkQ29udGVudC5zdHlsZS5wYWRkaW5nUmlnaHQgfHwgMCxcbiAgICAxMFxuICApIDogMDtcblxuICBpZiAoaXNCb2R5T3ZlcmZsb3dpbmcoKSkge1xuICAgIHNldFNjcm9sbGJhcldpZHRoKGJvZHlQYWRkaW5nICsgc2Nyb2xsYmFyV2lkdGgpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXBUb0Nzc01vZHVsZXMoY2xhc3NOYW1lLCBjc3NNb2R1bGUpIHtcbiAgaWYgKCFjc3NNb2R1bGUpIHJldHVybiBjbGFzc05hbWU7XG4gIHJldHVybiBjbGFzc05hbWUuc3BsaXQoJyAnKS5tYXAoYyA9PiBjc3NNb2R1bGVbY10gfHwgYykuam9pbignICcpO1xufVxuIl19